---
NAME: metasub_cap_single
VERSION: 1.0.1
SNAKEMAKE:
  DIR: snakemake_files
  CONF: pipeline_config.py
REQUIREMENTS: {}
SAMPLE_TYPES: []
PACKAGE_MEGA:
  RECIPE_DIR: recipes

ORIGINS:
- - adapter_removal_single
  - filter_human_dna_single

FILE_TYPES:
- name: gz_fastq
  ext: fastq.gz
- name: minsketch
  ext: msh
- fastqc
- bam
- sam
- txt
- m8
- name: gz_m8
  ext: m8.gz
- name: mpa
  ext: mpa.tsv
- fasta
- fastg
- vcf
- tsv
- csv
- name: gz_tsv
  ext: tsv.gz
- json
- name: jellyfish
  ext: jf


RESULT_TYPES:

- NAME: adapter_removal_single
  FILES:
    clean_reads: gz_fastq

- NAME: filter_human_dna_single
  FILES:
    nonhuman_reads: gz_fastq

- NAME: resistome_amrs
  DEPENDENCIES:
  - filter_human_dna
  FILES:
    sam: sam
    gene: tsv
    group: tsv
    classus: tsv
    mech: tsv
    gene_normalized: csv
    group_normalized: csv
    classus_normalized: csv
    mech_normalized: csv

- NAME: krakenhll_taxonomy_profiling
  DEPENDENCIES:
  - filter_human_dna
  FILES:
    read_assignments: tsv
    report: tsv
    report_medium: tsv
    report_strict: tsv

- NAME: read_classification_proportions
  DEPENDENCIES:
  - krakenhll_taxonomy_profiling
  - adapter_removal
  - filter_human_dna
  - quantify_macrobial
  FILES:
    json: json

- NAME: read_stats
  DEPENDENCIES:
  - filter_human_dna
  - raw_short_read_dna
  FILES:
    json: json

- NAME: microbe_directory_annotate
  DEPENDENCIES:
  - metaphlan2_taxonomy_profiling
  FILES:
    json: json

- NAME: metaphlan2_taxonomy_profiling
  DEPENDENCIES:
  - microbial_short_read_dna
  FILES:
    mpa: mpa

- NAME: microbe_census
  DEPENDENCIES:
  - microbial_short_read_dna
  FILES:
    stats: txt

- NAME: hmp_site_dists
  DEPENDENCIES:
  - metaphlan2_taxonomy_profiling
  - kraken_taxonomy_profiling
  - mash_intersample_dists
  FILES:
    metaphlan2: json

- NAME: humann2_functional_profiling
  DEPENDENCIES:
  - microbial_short_read_dna
  FILES:
    m8: gz_m8
    genes: tsv
    path_abunds: tsv
    path_cov: tsv

- NAME: quantify_macrobial
  FILES:
    bam: bam
    tbl: json

- NAME: align_to_amr_genes
  DEPENDENCIES:
  - microbial_short_read_dna
  FILES:
    table: csv
    m8: gz_m8
